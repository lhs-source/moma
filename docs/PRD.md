# moma Product Requirements Document (PRD)

**Author:** hslee
**Date:** 2025-10-22
**Project Level:** 3
**Target Scale:** Complex Integration with Existing System

---

## Goals and Background Context

### Goals

- 마비노기 모바일의 모든 아이템, 레시피, NPC, 이벤트 정보를 한곳에서 조회할 수 있는 통합 도감 제공
- 아이템의 획득 방법과 사용처를 즉시 확인할 수 있는 양방향 검색 시스템 구축
- 주간/일일 이벤트 및 캐시샵 일정을 시각적으로 관리하여 놓치는 일정 최소화
- 물물교환, 제작, 가공, 요리 시스템에 필요한 재료를 사전 계산하여 효율적인 게임 플레이 지원
- 주간 구매 가능한 식재료를 고려한 요리 시뮬레이션으로 실현 가능한 요리 계획 수립 지원
- 커뮤니티 제보 시스템을 통해 데이터 정확도를 지속적으로 개선

### Background Context

마비노기 모바일은 다양한 아이템, 레시피, 물물교환 시스템, 정기 이벤트 등 방대한 게임 콘텐츠를 제공하지만, 게임 내에서 이러한 정보를 체계적으로 확인할 수 있는 경로가 부족합니다. 플레이어들은 특정 아이템의 획득 방법이나 사용처를 찾기 위해 여러 메뉴를 탐색해야 하고, 동시에 진행되는 다수의 이벤트 일정을 놓치는 경우가 빈번합니다.

현재 이러한 정보를 통합적으로 제공하는 경쟁 제품이 없는 상황에서, moma는 게임 데이터를 도감화하고 플레이어가 필요한 정보를 빠르게 찾을 수 있도록 돕는 웹 기반 정보 플랫폼입니다. 공식 API가 제공되지 않는 환경에서 수동으로 데이터를 수집하고, 커뮤니티의 제보를 통해 정확도를 높여가며, 플레이어들의 게임 경험을 개선하는 것을 목표로 합니다.

게임은 매주 목요일 정기 업데이트가 진행되며, 업데이트 공지는 수요일에 공개됩니다. 이에 따라 moma도 수요일 공지 확인 후 신속하게 데이터를 업데이트하여 플레이어들이 최신 정보를 활용할 수 있도록 합니다.

---

## Requirements

### Functional Requirements

#### 데이터 목록 (아이템, 레시피 등)

- **FR001:** 시스템은 데이터 목록 메뉴에서 아이템, 레시피 등을 탭 형태로 제공해야 한다
- **FR002:** 시스템은 아이템 탭에서 스키마별(소비재, 재료, 음식, 포션, 화폐 등) 그룹화된 목록을 제공해야 한다
- **FR003:** 사용자는 스키마를 선택하여 해당 타입의 아이템만 볼 수 있어야 한다
- **FR004:** 시스템은 모든 아이템 정보를 카테고리별로 분류하여 표시해야 한다
- **FR005:** 사용자는 아이템 이름으로 검색할 수 있어야 한다
- **FR006:** 사용자는 아이템 카테고리, 타입별로 필터링할 수 있어야 한다
- **FR007:** 시스템은 각 아이템의 상세 정보를 표시해야 한다 (이름, 설명, 이미지, 카테고리)
- **FR008:** 시스템은 아이템의 모든 획득 방법을 표시해야 한다 (제작, 채집, 드랍, 구매, 물물교환, 가공)
- **FR009:** 시스템은 아이템의 모든 사용처를 표시해야 한다 (어떤 레시피에 사용되는지)
- **FR010:** 시스템은 레시피 탭에서 모든 레시피 정보를 제공해야 한다

#### 제작 시스템

- **FR011:** 시스템은 요리, 제작, 포션 제조, 수공예 등 모든 제작 레시피를 제공해야 한다
- **FR012:** 사용자는 제작하고 싶은 아이템을 선택하면 필요한 모든 재료를 계산해야 한다
- **FR013:** 시스템은 재료의 재귀적 의존성을 계산해야 한다 (재료를 만들기 위한 재료까지)
- **FR014:** 사용자는 멤버십 여부를 선택하여 제작 가능 여부를 확인할 수 있어야 한다
- **FR015:** 시스템은 가공 레시피 정보를 제공해야 한다 (직물, 식품, 가죽, 약품, 금속, 목재)
- **FR016:** 시스템은 멀티 캐릭터 환경에서 각 캐릭터별 보유 재료를 독립적으로 관리하고 가공 가능 수량을 계산해야 한다

#### 요리 시뮬레이션 시스템

- **FR017:** 시스템은 모든 요리 레시피와 필요한 식재료 정보를 제공해야 한다
- **FR018:** 사용자는 요리하고 싶은 아이템을 선택하면 필요한 식재료를 계산해야 한다
- **FR019:** 시스템은 각 식재료의 주간 구매 가능 수량 정보를 표시해야 한다
- **FR020:** 사용자가 여러 요리를 계획하면 총 필요 식재료를 집계하고 주간 구매 한도 내 실현 가능 여부를 판단해야 한다
- **FR021:** 시스템은 주간 구매 한도를 초과하는 식재료를 강조 표시하고 대체 방안을 제시해야 한다
- **FR022:** 시스템은 캐릭터별 주간 식재료 구매 계획을 저장하고 불러올 수 있어야 한다

#### 물물교환 시스템

- **FR023:** 시스템은 NPC별 물물교환 가능한 아이템 목록을 제공해야 한다
- **FR024:** 사용자는 원하는 물물교환 아이템을 선택하면 필요한 재료를 계산해야 한다
- **FR025:** 시스템은 주간 물물교환 가능한 아이템을 별도로 표시해야 한다
- **FR026:** 사용자는 여러 물물교환을 계획하면 총 필요 재료를 집계해야 한다
- **FR027:** 시스템은 사용자의 물물교환 계획을 로컬 스토리지에 저장하고 불러올 수 있어야 한다

#### 이벤트 및 일정 관리

- **FR028:** 시스템은 진행 중인 모든 이벤트 정보를 제공해야 한다
- **FR029:** 시스템은 이벤트 종료일까지 남은 기간을 시각적으로 표시해야 한다
- **FR030:** 시스템은 캐시샵 한정 아이템 판매 일정을 제공해야 한다
- **FR031:** 시스템은 월별 캘린더 뷰로 이벤트를 확인할 수 있어야 한다
- **FR032:** 시스템은 정기 업데이트 주기를 반영하여 일정을 관리해야 한다 (수요일 공지, 목요일 업데이트 적용)

#### 데이터 관리 및 정확성

- **FR033:** 시스템은 모든 데이터를 로컬에서 관리해야 한다 (공식 API 없음)
- **FR034:** 관리자는 아이템, 레시피, 이벤트 데이터를 추가/수정할 수 있어야 한다
- **FR035:** 시스템은 아이템 이미지를 표시할 수 있어야 한다

#### UI/UX

- **FR036:** 시스템은 반응형 디자인을 제공하여 모바일에서도 사용 가능해야 한다 (PC 우선)

### Non-Functional Requirements

- **NFR001:** 성능 - 아이템 검색 및 필터링은 1초 이내에 응답해야 한다
- **NFR002:** 유지보수성 - 게임 정기 업데이트(매주 목요일, 공지는 수요일) 시 데이터 추가/수정이 용이해야 한다
- **NFR003:** 사용성 - 모바일 환경에서도 주요 기능(아이템 검색, 이벤트 확인)을 불편 없이 사용할 수 있어야 한다
- **NFR004:** 확장성 - 향후 장비 시스템, 데미지 시뮬레이터 등 새로운 기능 추가를 고려한 모듈형 구조를 유지해야 한다
- **NFR005:** 데이터 무결성 - 로컬 스토리지에 저장되는 사용자 데이터(물물교환 계획 등)는 브라우저 재시작 후에도 유지되어야 한다

---

## User Journeys

### Journey 1: 특정 아이템 제작을 위한 재료 준비

**시나리오:** 플레이어가 "고급 포션"을 제작하고 싶어하며, 필요한 모든 재료를 파악하고 준비 계획을 세운다.

1. 플레이어가 moma 웹사이트에 접속하여 제작(Crafting) 메뉴로 이동
2. 포션 제작 카테고리를 선택
3. "고급 포션" 아이템을 검색하거나 목록에서 선택
4. 시스템이 필요한 직접 재료 목록 표시 (예: 약초 x5, 생명수 x2)
5. 플레이어가 "전체 재료 계산" 옵션 선택
6. 시스템이 재귀적으로 하위 재료까지 모두 계산하여 표시 (예: 약초를 얻기 위한 채집 정보, 생명수를 만들기 위한 재료)
7. 각 재료별로 획득 방법 확인 (채집 위치, NPC 구매, 물물교환 등)
8. 플레이어가 물물교환이나 구매가 필요한 재료가 있으면 해당 탭으로 이동하여 추가 정보 확인
9. 필요한 재료 목록을 메모하고 게임에서 준비 시작

**예외 흐름:**
- 재료가 현재 이벤트 한정인 경우: 이벤트 일정 확인 필요 알림
- 멤버십 전용 제작인 경우: 멤버십 필요 표시

---

### Journey 2: 주간 물물교환 계획 수립 및 재료 관리

**시나리오:** 플레이어가 특정 NPC에게서 물물교환하고 싶은 여러 아이템이 있으며, 주간 한도 내에서 최적의 물물교환 계획을 세운다.

1. 플레이어가 물물교환(Trade) 메뉴로 이동
2. NPC를 선택하거나 원하는 아이템을 검색
3. 물물교환하고 싶은 아이템 여러 개를 선택하고 수량 입력
4. 시스템이 총 필요 재료를 집계하여 표시
5. 플레이어가 "주간 교환 가능" 필터를 확인하여 리셋 시점 파악
6. 부족한 재료가 있으면 해당 아이템 클릭하여 획득 방법 확인
7. 플레이어가 물물교환 계획을 저장 (로컬 스토리지)
8. 일주일 동안 재료를 준비하며 체크리스트처럼 활용
9. 목요일 정기 업데이트 후 물물교환 실행 (수요일 공지로 미리 확인 가능)

**대안 흐름:**
- 재료가 부족한 경우: 우선순위를 정하여 일부 물물교환 계획 조정
- 주간 리셋 전에 계획 확인: 남은 시간 표시

---

### Journey 3: 이벤트 캘린더를 통한 일정 관리

**시나리오:** 플레이어가 동시에 진행되는 여러 이벤트를 추적하고 놓치지 않도록 관리한다.

1. 플레이어가 이벤트 캘린더(Event Calendar) 메뉴로 접속
2. 진행 중인 모든 이벤트가 종료일 기준으로 정렬되어 표시
3. 각 이벤트 옆에 남은 기간이 시각적으로 표시 (예: "3일 남음", 진행 바)
4. 임박한 이벤트는 강조 표시 (예: 24시간 이내)
5. 플레이어가 관심 있는 이벤트 클릭하여 상세 정보 확인
6. 캐시샵 한정 아이템 일정도 함께 표시
7. 플레이어가 월별 캘린더 뷰로 전환하여 전체 일정 조망
8. 정기 업데이트 일정도 표시 (수요일 공지, 목요일 적용) - 새 이벤트 추가 시점 파악
9. 플레이어가 우선순위를 정하여 게임 플레이 계획 수립

**예외 흐름:**
- 이벤트가 갑자기 연장되거나 조기 종료되는 경우: 데이터 업데이트 필요 (사용자 제보 받기)

---

### Journey 4: 멀티 캐릭터 가공 시뮬레이션

**시나리오:** 플레이어가 5개 캐릭터를 운영하며, 각 캐릭터가 보유한 공유 불가 재료를 가공하여 공유 가능한 아이템으로 만들 계획을 세운다.

1. 플레이어가 가공(Processing) 또는 제작 메뉴로 이동
2. "멀티 캐릭터 가공 계산" 또는 "캐릭터별 재료 관리" 기능 선택
3. 각 캐릭터별로 보유 재료 입력
   - 캐릭터 1: 은광석 110개, 석탄 20개
   - 캐릭터 2: 은광석 85개, 석탄 15개
   - 캐릭터 3: 은광석 150개, 석탄 30개
   - (나머지 캐릭터도 동일하게 입력)
4. 만들고자 하는 가공 아이템 선택 (예: 은합금괴)
5. 시스템이 가공 레시피 확인 (은합금괴 = 은광석 x2 + 석탄 x1)
6. 각 캐릭터별로 가공 가능한 수량 자동 계산
   - 캐릭터 1: 은광석 110개 → 최대 20개 가공 가능 (석탄이 20개로 제한)
   - 캐릭터 2: 은광석 85개 → 최대 15개 가공 가능 (석탄이 15개로 제한)
   - 캐릭터 3: 은광석 150개 → 최대 30개 가공 가능 (석탄이 30개로 제한)
7. 부족한 재료(병목 재료) 강조 표시
   - 캐릭터 1,2,3 모두 석탄이 병목
8. 캐릭터별 추가로 필요한 재료 수량 표시
   - 캐릭터 1: 석탄 35개 더 필요 (은광석을 최대한 활용하려면)
   - 캐릭터 2: 석탄 27개 더 필요
   - 캐릭터 3: 석탄 45개 더 필요
9. 총 가공 결과 요약: 전체 캐릭터에서 최대 65개 은합금괴 생산 가능
10. 플레이어가 부족한 재료 획득 방법 확인 (구매, 채집, 물물교환)
11. 가공 계획을 저장하여 게임에서 실행

**대안 흐름:**
- 일부 캐릭터만 가공: 특정 캐릭터만 선택하여 계산
- 다른 가공 아이템으로 변경: 재료를 다른 용도로 사용할 경우 재계산
- 재료 재분배 불가: 각 캐릭터는 독립적으로 계산되므로 재료 이동 불가 명시

**특수 케이스:**
- 한 캐릭터가 재료를 전혀 보유하지 않은 경우: "가공 불가" 표시
- 가공 레시피가 멤버십 전용인 경우: 멤버십 필터 적용

---

### Journey 5: 주간 식재료 구매를 고려한 요리 계획

**시나리오:** 플레이어가 이번 주에 요리할 아이템들을 계획하며, 주간 구매 가능한 식재료 한도 내에서 실현 가능한지 확인한다.

1. 플레이어가 요리 시뮬레이팅(Cooking) 메뉴로 이동
2. 요리하고 싶은 아이템 목록 선택 (예: 고급 스테이크 10개, 특제 수프 5개)
3. 각 요리의 필요 수량 입력
4. 시스템이 요리 레시피를 기반으로 총 필요 식재료 계산
   - 고급 스테이크 10개 = 고급 고기 20개, 향신료 10개
   - 특제 수프 5개 = 야채 15개, 허브 5개
5. 시스템이 각 식재료의 주간 구매 가능 수량 표시
   - 고급 고기: 주간 30개 구매 가능
   - 향신료: 주간 15개 구매 가능
   - 야채: 주간 50개 구매 가능
   - 허브: 주간 10개 구매 가능
6. 시스템이 필요 수량과 구매 가능 수량 비교
   - 고급 고기 20개 필요 / 30개 구매 가능 ✅ 가능
   - 향신료 10개 필요 / 15개 구매 가능 ✅ 가능
   - 야채 15개 필요 / 50개 구매 가능 ✅ 가능
   - 허브 5개 필요 / 10개 구매 가능 ✅ 가능
7. 전체 요리 계획이 주간 구매 한도 내에서 실현 가능함을 확인
8. 플레이어가 요리 계획을 저장 (로컬 스토리지)
9. 주간 동안 식재료 구매 진행하며 체크리스트로 활용

**대안 흐름:**
- 식재료 한도 초과: 일부 요리 수량 조정 제안
  - 예: 고급 고기 50개 필요 시 → 30개만 구매 가능 → 고급 스테이크 15개로 감소 제안
- 대체 재료 사용: 다른 재료로 대체 가능한 경우 제안
- 캐릭터별 분산 구매: 여러 캐릭터가 각각 구매하는 경우 캐릭터별 계획 표시

**예외 흐름:**
- 식재료가 이벤트 한정인 경우: 이벤트 기간 확인 필요 알림
- 주간 리셋 시점: 리셋까지 남은 시간 표시

---

## UX Design Principles

1. **정보 접근성 우선**: 플레이어가 원하는 정보를 3클릭 이내에 찾을 수 있어야 함
2. **시각적 명확성**: 복잡한 데이터(재료 의존성, 이벤트 일정)를 시각적으로 명확하게 표현
3. **진행 상황 추적**: 물물교환 계획, 재료 수집 등 플레이어의 진행 상황을 쉽게 추적할 수 있도록 지원
4. **반응형 적응성**: PC 환경에 최적화하되 모바일에서도 핵심 기능은 불편 없이 사용 가능
5. **데이터 정확성 강조**: 수동 수집 데이터임을 투명하게 알리고, 제보 경로를 명확히 제공

---

## User Interface Design Goals

### 플랫폼 & 화면 구성

- **타겟 플랫폼**: 웹 (Desktop 우선, Mobile 반응형)
- **핵심 화면**: 홈, 데이터 목록 (아이템/레시피 탭), 제작, 요리 시뮬레이팅, 물물교환, 이벤트 캘린더
- **네비게이션**: 상단 메뉴 또는 사이드바를 통한 주요 섹션 이동
- **검색**: 데이터 목록 내 검색 기능 및 전역 검색을 통한 빠른 아이템 접근
- **탭 구조**: 데이터 목록 메뉴에서 아이템, 레시피 등을 탭으로 구분하여 제공

### 디자인 제약사항

- **기술 스택**: Vue 3 + TypeScript + Tailwind CSS + shadcn-vue 컴포넌트
- **다크모드**: 지원 (게임 유저들의 선호도 고려)
- **이미지**: 게임 내 아이템 이미지 활용 (약 340+ 아이템 이미지 보유)
- **브라우저 지원**: 모던 브라우저 (Chrome, Firefox, Safari, Edge 최신 버전)

### 핵심 인터랙션 패턴

- 카드 기반 레이아웃으로 아이템/레시피 표시
- 필터 및 검색을 통한 동적 목록 업데이트
- 드릴다운 방식으로 상세 정보 접근
- 탭 기반 네비게이션으로 관련 정보 그룹화
- 툴팁 및 모달을 통한 부가 정보 제공

---

## Epic List

### Epic 1: 코어 시스템 개선 및 사용성 향상
**목표**: 기존 데이터 목록(아이템/레시피), 제작, 요리 시뮬레이팅, 물물교환, 이벤트 캘린더 시스템의 사용성을 개선하고 누락된 편의 기능을 추가  
**예상 스토리 수**: 13개

주요 작업: 검색 성능 최적화, 스키마별 아이템 목록 표시, 필터링 옵션 확장, 탭 기반 데이터 네비게이션, 모바일 반응형 개선, 사용자 인터페이스 일관성 개선, 데이터 로딩 상태 표시, 에러 핸들링 개선, 멀티 캐릭터 가공 시뮬레이션, 주간 식재료 기반 요리 시뮬레이션

---

### Epic 2: 장비 재료 및 기한 계산 시스템
**목표**: 플레이어가 원하는 장비를 맞추기 위해 필요한 재료와 제작 기한을 계산하는 시스템 구축  
**예상 스토리 수**: 10-15개

주요 작업: 장비 데이터 스키마 설계 및 추가, 장비 강화/제작 레시피 관리, 장비별 필요 재료 계산, 재료 수집 일정 계산 (이벤트, 교환 주기 고려), 장비 세트 목표 설정 및 진행률 추적

---

### Epic 3: 커뮤니티 제보 시스템
**목표**: 사용자들이 데이터 오류를 제보하고 관리자가 검토/반영할 수 있는 시스템 구축  
**예상 스토리 수**: 8-12개

주요 작업: 제보 폼 및 UI 구현, 제보 데이터 로컬 저장 및 관리, 제보 내역 확인 기능, 관리자 검토 워크플로우 (선택적), 제보 가이드 및 FAQ

---

### Epic 4: 데이터 관리 및 유지보수 도구 (선택적)
**목표**: 정기 업데이트 시 데이터 추가/수정을 효율화하는 관리자 도구  
**예상 스토리 수**: 5-8개

주요 작업: 데이터 입력/수정 UI, 이미지 업로드 및 관리, 데이터 검증 도구, 업데이트 이력 관리

---

**총 예상 스토리 수**: 39개

> **Note:** Detailed epic breakdown with full story specifications is available in [epics.md](./epics.md)

---

## Out of Scope

### 현재 버전에서 제외되는 기능

**1. 직업별 데미지 시뮬레이터**
- 복잡한 계산 로직과 광범위한 직업/스킬 데이터 필요
- 향후 별도 Epic으로 계획 가능
- 현재는 정보 제공에 집중

**2. 실시간 게임 연동**
- 공식 API가 없으므로 실시간 인벤토리 확인, 자동 데이터 동기화 불가능
- 수동 데이터 관리가 프로젝트의 전제 조건
- 매주 수요일 공지 확인 후 목요일 업데이트 반영이 데이터 갱신 주기

**3. 사용자 계정 및 인증 시스템**
- 로그인/회원가입 기능 없음
- 모든 사용자 데이터는 브라우저 로컬 스토리지에 저장
- 서버 백엔드 없이 정적 호스팅 유지

**4. 소셜 기능**
- 사용자 간 교환 계획 공유, 댓글, 평가 시스템 없음
- 커뮤니티 제보는 일방향 피드백 형태로만 제공

**5. 게임 가이드 및 공략 콘텐츠**
- 순수 데이터 도감에 집중, 플레이 팁이나 전략 가이드는 포함하지 않음
- 필요시 외부 커뮤니티 링크만 제공

### 기술적 제약으로 인한 제외

**6. 모바일 네이티브 앱**
- 웹 앱으로만 제공, iOS/Android 네이티브 앱 개발 없음
- PWA (Progressive Web App) 기능은 향후 고려 가능

**7. 오프라인 모드**
- 데이터 로딩에 인터넷 연결 필요
- 전체 데이터 로컬 캐싱은 현재 범위 외

**8. 다국어 지원**
- 한국어 게임이므로 한국어로만 제공
- i18n 구조는 미래 확장을 위해 고려하지 않음

### 데이터 범위 제한

**9. 과거 이벤트 아카이브**
- 종료된 이벤트는 삭제하고 현재 진행 중인 이벤트만 표시
- 이벤트 히스토리 기능 없음

**10. PvP/길드 관련 데이터**
- PvP 밸런스, 길드 시스템 등 커뮤니티 중심 콘텐츠는 제외
- PvE 콘텐츠와 아이템 정보에만 집중

